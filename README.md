# fires

## Проба идентификации пожаров с пожарами МЧС 

### Алгоритм:
Для нахождения пожара в базе МЧС, был реализован алгоритм поиска ближайшего пожара по показателям: разницы дат, расстояний и вхождения.
Составление списка показателей для кандидатов (пожары МЧС) для каждого пожара:
1.	`date_diff` = Поиск разницы дат между всеми данными МЧС и каждой датой пожаров.
2.	`distance` = Поиск расстояния от пожаров МЧС до центроида каждого пожара.
3.	`in` = Поиск вхождения точек пожаров МЧС в полигон пожара.

Построение целевой функции: 
$$f = date\\_diff + distance – in.$$

Показатели также были нормированы и произведена целевая функция: 
$$f\\_norm = date\\_diff+distance – in.$$

Далее получаем кандидатов (пожар МЧС) с минимальным значением `f` и `f_norm`. Если обнаруживается, что кандидат только 1 по обоим параметрам, считается, что пожар идентифицирован однозначно. Однако и тут находятся точки с достаточным удалением, возможно, требуется экспертное определение допустимой разницы в днях и допустимой дистанции.
<a href="https://ibb.co/0Q5bqnD"><img src="https://i.ibb.co/Kmnv650/image.png" alt="image" border="0"></a>

Таким образом было найдено 343 пожара (если считать по `id`), если сгруппировать по `fire_id`, то в сумме – 994.

Для остальных 1705 требуется проверка, какой показатель сработал качественней, как определить однозначно, к какому пожару МЧС относится пожар?


### [Карта](https://yupest.github.io/fires/find_fires/index.html)

- Цвет точек пожаров МЧС соответстует их классификации с сайта РОСЛЕСХОЗ (легенда представлена)
- Цвет полигонов пожаров соответствует идентифицирован ли id пожара однозначно:
  - 1 - для такого пожара найден только 1 пожар МЧС, 
  - 0 - найдены 2 пожара МЧС с минимальной f и минимальной f_norm, однако такие пожары имеют те же fire_id, что и однозначно идентифицированные
- Кликнув на точку можно получить fire_id. Поблизости можно найти полигон с таким же fire_id (или unique_id = id). Для этого на полигон также нужно кликнуть.
